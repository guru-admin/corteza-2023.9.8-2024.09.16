prefix: compose

imports:
  - github.com/guru-admin/corteza-2023.9.8-2024.09.16/server/compose/types

params:
  namespaceLookup: &namespaceLookup
    required: true
    types:
      - { wf: ID,               }
      - { wf: Handle,           }
      - { wf: ComposeNamespace, suffix: res }

  rvNamespace: &rvNamespace
    wf: ComposeNamespace

functions:
  lookup:
    meta:
      short: Compose namespace lookup
      description: Find specific namespace by ID or handle
    labels:
      lookup: "step"
      namespace: "step,workflow"
      compose: "step,workflow"
    params:
      namespace: *namespaceLookup
    results:
      namespace: *rvNamespace
